{"swagger":"2.0","info":{"title":"Test Task API","description":"","termsOfService":"","version":"1.0"},"basePath":"\/","paths":{"\/api\/auth\/login":{"post":{"tags":["Authentication"],"description":"Sing in","produces":["application\/json"],"parameters":[{"name":"body","in":"body","required":true,"schema":{"$ref":"#\/definitions\/LoginRequest"}}],"responses":{"200":{"description":"Success","schema":{"$ref":"#\/definitions\/Token"}},"202":{"description":"Invalid Credentials!"},"422":{"description":"Validation errors","schema":{"$ref":"#\/definitions\/ValidationErrors"}}}}},"\/api\/auth\/register":{"post":{"tags":["Authentication"],"description":"User registration","produces":["application\/json"],"parameters":[{"name":"body","in":"body","required":true,"schema":{"$ref":"#\/definitions\/RegistrationRequest"}}],"responses":{"200":{"description":"Success","schema":{"$ref":"#\/definitions\/User"}},"400":{"description":"Unable to register user!"},"422":{"description":"Validation errors","schema":{"$ref":"#\/definitions\/ValidationErrors"}}}}},"\/api\/auth\/logout":{"post":{"tags":["Authentication"],"description":"Logout","produces":["application\/json"],"responses":{"200":{"description":"Success"},"401":{"description":"Token not provided","schema":{"$ref":"#\/definitions\/Error"}}},"security":[{"auth":[]}]}},"\/api\/organization\/get-all":{"get":{"tags":["Organization"],"description":"Get list or Owner\/Performer organizations","produces":["application\/json"],"parameters":[{"name":"page","in":"query","type":"integer"}],"responses":{"200":{"description":"Success","schema":{"$ref":"#\/definitions\/Organizations"}},"401":{"description":"Token not provided","schema":{"$ref":"#\/definitions\/Error"}}},"security":[{"auth":[]}]}},"\/api\/organization\/get\/{id}":{"get":{"tags":["Organization"],"description":"Get organization by id","produces":["application\/json"],"parameters":[{"name":"id","in":"path","type":"integer"}],"responses":{"200":{"description":"Success","schema":{"$ref":"#\/definitions\/Organization"}},"401":{"description":"Token not provided","schema":{"$ref":"#\/definitions\/Error"}},"404":{"description":"Model Not Found","schema":{"$ref":"#\/definitions\/Error"}},"500":{"description":"User cant get record of this organization","schema":{"$ref":"#\/definitions\/Error"}}},"security":[{"auth":[]}]}},"\/api\/organization\/create":{"post":{"tags":["Organization"],"description":"Create organization","produces":["application\/json"],"parameters":[{"name":"body","in":"body","required":true,"schema":{"$ref":"#\/definitions\/OrganizationRequest"}}],"responses":{"200":{"description":"Success","schema":{"$ref":"#\/definitions\/Organization"}},"400":{"description":"Error while creating an organization","schema":{"$ref":"#\/definitions\/Error"}},"401":{"description":"Token not provided","schema":{"$ref":"#\/definitions\/Error"}},"500":{"description":"User is not an owner","schema":{"$ref":"#\/definitions\/Error"}}},"security":[{"auth":[]}]}},"\/api\/organization\/update\/{id}":{"put":{"tags":["Organization"],"description":"Update organization","produces":["application\/json"],"parameters":[{"name":"id","in":"path","required":true,"type":"integer"},{"name":"body","in":"body","required":true,"schema":{"$ref":"#\/definitions\/OrganizationRequest"}}],"responses":{"200":{"description":"Success","schema":{"$ref":"#\/definitions\/Organization"}},"400":{"description":"Error while updating an organization","schema":{"$ref":"#\/definitions\/Error"}},"401":{"description":"Token not provided","schema":{"$ref":"#\/definitions\/Error"}},"500":{"description":"Update operation is unavailable|No query results for model","schema":{"$ref":"#\/definitions\/Error"}}},"security":[{"auth":[]}]}},"\/api\/organization\/delete\/{id}":{"delete":{"tags":["Organization"],"description":"Delete organization","produces":["application\/json"],"parameters":[{"name":"id","in":"path","type":"integer"}],"responses":{"200":{"description":"Success"},"400":{"description":"Error while deleting an organization","schema":{"$ref":"#\/definitions\/Error"}},"401":{"description":"Token not provided","schema":{"$ref":"#\/definitions\/Error"}},"500":{"description":"Delete action is unavailable|No query results for model","schema":{"$ref":"#\/definitions\/Error"}}},"security":[{"auth":[]}]}},"\/api\/organization\/invite":{"post":{"tags":["Organization"],"description":"Invite user to organisation","produces":["application\/json"],"parameters":[{"name":"body","in":"body","required":true,"schema":{"$ref":"#\/definitions\/InvitationRequest"}}],"responses":{"200":{"description":"Success"},"400":{"description":"Error while inviting to organization","schema":{"$ref":"#\/definitions\/Error"}},"401":{"description":"Token not provided","schema":{"$ref":"#\/definitions\/Error"}},"500":{"description":"Unable to invite user|No query results for model","schema":{"$ref":"#\/definitions\/Error"}}},"security":[{"auth":[]}]}},"\/api\/task\/get-all":{"get":{"tags":["Task"],"description":"Get list or Owner\/Performer tasks","produces":["application\/json"],"parameters":[{"name":"page","in":"query","type":"integer"}],"responses":{"200":{"description":"Success","schema":{"$ref":"#\/definitions\/Tasks"}},"401":{"description":"Token not provided","schema":{"$ref":"#\/definitions\/Error"}}},"security":[{"auth":[]}]}},"\/api\/task\/get\/{id}":{"get":{"tags":["Task"],"description":"Get task by id","produces":["application\/json"],"parameters":[{"name":"id","in":"path","type":"integer"}],"responses":{"200":{"description":"Success","schema":{"$ref":"#\/definitions\/Task"}},"401":{"description":"Token not provided","schema":{"$ref":"#\/definitions\/Error"}},"404":{"description":"Model Not Found","schema":{"$ref":"#\/definitions\/Error"}},"500":{"description":"This user cant get the task","schema":{"$ref":"#\/definitions\/Error"}}},"security":[{"auth":[]}]}},"\/api\/task\/create":{"post":{"tags":["Task"],"description":"Create task","produces":["application\/json"],"parameters":[{"name":"body","in":"body","required":true,"schema":{"$ref":"#\/definitions\/CreateTaskRequest"}}],"responses":{"200":{"description":"Success","schema":{"$ref":"#\/definitions\/Task"}},"400":{"description":"Error while creating an task","schema":{"$ref":"#\/definitions\/Error"}},"401":{"description":"Token not provided","schema":{"$ref":"#\/definitions\/Error"}},"500":{"description":"Create action is unavailable","schema":{"$ref":"#\/definitions\/Error"}}},"security":[{"auth":[]}]}},"\/api\/task\/update\/{id}":{"put":{"tags":["Task"],"description":"Update task","produces":["application\/json"],"parameters":[{"name":"id","in":"path","required":true,"type":"integer"},{"name":"body","in":"body","required":true,"schema":{"$ref":"#\/definitions\/UpdateTaskRequest"}}],"responses":{"200":{"description":"Success","schema":{"$ref":"#\/definitions\/Task"}},"400":{"description":"Error while updating a task","schema":{"$ref":"#\/definitions\/Error"}},"401":{"description":"Token not provided","schema":{"$ref":"#\/definitions\/Error"}},"500":{"description":"Update operation is unavailable|No query results for model","schema":{"$ref":"#\/definitions\/Error"}}},"security":[{"auth":[]}]}},"\/api\/task\/delete\/{id}":{"delete":{"tags":["Task"],"description":"Delete task","produces":["application\/json"],"parameters":[{"name":"id","in":"path","type":"integer"}],"responses":{"200":{"description":"Success"},"400":{"description":"Error while deleting a task","schema":{"$ref":"#\/definitions\/Error"}},"401":{"description":"Token not provided","schema":{"$ref":"#\/definitions\/Error"}},"500":{"description":"Delete action is unavailable|No query results for model","schema":{"$ref":"#\/definitions\/Error"}}},"security":[{"auth":[]}]}},"\/api\/task\/statuses":{"get":{"tags":["Task"],"description":"Get task statuses","produces":["application\/json"],"responses":{"200":{"description":"Success","schema":{"$ref":"#\/definitions\/Statuses"}},"401":{"description":"Token not provided","schema":{"$ref":"#\/definitions\/Error"}}},"security":[{"auth":[]}]}},"\/api\/task\/change-status\/{id}":{"put":{"tags":["Task"],"description":"Change status of a task","produces":["application\/json"],"parameters":[{"name":"id","in":"path","required":true,"type":"integer"},{"name":"body","in":"body","required":true,"schema":{"$ref":"#\/definitions\/TaskByPerformerRequest"}}],"responses":{"200":{"description":"Success"},"400":{"description":"Error while updating task status","schema":{"$ref":"#\/definitions\/Error"}},"401":{"description":"Token not provided","schema":{"$ref":"#\/definitions\/Error"}},"500":{"description":"Update operation is unavailable|No query results for model","schema":{"$ref":"#\/definitions\/Error"}}},"security":[{"auth":[]}]}},"\/api\/task\/set-performer\/{id}":{"put":{"tags":["Task"],"description":"Set task performer","produces":["application\/json"],"parameters":[{"name":"id","in":"path","required":true,"type":"integer"},{"name":"body","in":"body","required":true,"schema":{"$ref":"#\/definitions\/SetTaskPerformerRequest"}}],"responses":{"200":{"description":"Success"},"400":{"description":"Error while setting performer for a task","schema":{"$ref":"#\/definitions\/Error"}},"401":{"description":"Token not provided","schema":{"$ref":"#\/definitions\/Error"}},"500":{"description":"Set Performer operation is unavailable|No query results for model","schema":{"$ref":"#\/definitions\/Error"}}},"security":[{"auth":[]}]}}},"definitions":{"ValidationErrors":{"properties":{"message":{"description":"Class Controller","type":"string"},"errors":{"description":"Class Controller","properties":{"field":{"description":"Class Controller","type":"array","items":{"type":"string"}}},"type":"object"},"status_code":{"description":"Class Controller","type":"integer"}},"type":"object"},"Error":{"properties":{"message":{"description":"Class Controller","type":"string"},"status_code":{"description":"Class Controller","type":"integer"}},"type":"object"},"Meta":{"properties":{"pagination":{"description":"Class Controller","$ref":"#\/definitions\/Pagination"}},"type":"object"},"Pagination":{"properties":{"total":{"description":"Class Controller","type":"integer"},"count":{"description":"Class Controller","type":"integer"},"per_page":{"description":"Class Controller","type":"integer"},"current_page":{"description":"Class Controller","type":"integer"},"total_pages":{"description":"Class Controller","type":"integer"},"links":{"description":"Class Controller","properties":{"next":{"description":"Class Controller","type":"string"}},"type":"object"}},"type":"object"},"LoginRequest":{"properties":{"email":{"type":"string"},"password":{"type":"string"}},"type":"object"},"Token":{"properties":{"token":{"type":"string"}},"type":"object"},"RegistrationRequest":{"properties":{"surname":{"type":"string"},"name":{"type":"string"},"email":{"type":"string"},"password":{"type":"string"},"password_confirm":{"type":"string"},"role":{"type":"integer","enum":["1","2"]}},"type":"object"},"User":{"properties":{"id":{"type":"integer"},"surname":{"type":"string"},"name":{"type":"string"},"email":{"type":"string"},"registration_date":{"type":"string"},"role":{"type":"integer"}},"type":"object"},"Organizations":{"properties":{"data":{"type":"array","items":{"$ref":"#\/definitions\/Organization"}},"meta":{"type":"object","$ref":"#\/definitions\/Pagination"}},"type":"object"},"Organization":{"properties":{"id":{"type":"integer"},"name":{"type":"string"},"registration_date":{"type":"string"},"owner":{"type":"object","$ref":"#\/definitions\/User"}},"type":"object"},"OrganizationRequest":{"properties":{"organization_name":{"type":"string"},"registration_date":{"type":"string"}},"type":"object"},"InvitationRequest":{"properties":{"user_id":{"type":"integer"},"organization_id":{"type":"integer"}},"type":"object"},"Tasks":{"properties":{"data":{"type":"array","items":{"$ref":"#\/definitions\/Task"}},"meta":{"type":"object","$ref":"#\/definitions\/Pagination"}},"type":"object"},"Task":{"properties":{"id":{"type":"integer"},"name":{"type":"string"},"status":{"type":"string"},"deadline":{"type":"string"},"performer":{"$ref":"#\/definitions\/User"},"author":{"$ref":"#\/definitions\/User"},"organization":{"$ref":"#\/definitions\/Organization"}},"type":"object"},"CreateTaskRequest":{"properties":{"performer_id":{"type":"integer"},"organization_id":{"type":"integer"},"name":{"type":"string"},"deadline":{"type":"string"}},"type":"object"},"UpdateTaskRequest":{"properties":{"name":{"type":"string"},"deadline":{"type":"string"},"cancellation_reason":{"type":"string"},"rejection_reason":{"type":"string"}},"type":"object"},"Statuses":{"properties":{"data":{"type":"array","items":{"$ref":"#\/definitions\/Status"}}},"type":"object"},"Status":{"properties":{"id":{"type":"integer"},"title":{"type":"string"}},"type":"object"},"TaskByPerformerRequest":{"properties":{"status":{"type":"integer"}},"type":"object"},"SetTaskPerformerRequest":{"properties":{"performer_id":{"type":"integer"}},"type":"object"}},"securityDefinitions":{"auth":{"in":"header","type":"apiKey","name":"Authorization","description":"A value of the authorization header has to starts with 'Bearer ' and then your access_token."}}}